<mat-spinner *ngIf="isLoading"></mat-spinner>
<div *ngIf="!isLoading">
  <mat-list *ngIf="list.length > 0">
    <mat-list-item matLine *ngFor="let elem of list">
      <img matListAvatar [src]="elem.imagePath" [alt]="elem.to" />
      <p matLine>
        <span> {{ elem.to }} </span>
      </p>
      <p matLine *ngIf="elem.lastMessageContent">
        <span> last message -- </span>
        <span> {{ elem.lastMessageSender }}</span>
        <span class="demo-2">: {{ elem.lastMessageContent }} </span>
      </p>
      <p matLine *ngIf="!elem.lastMessageContent">
        <span> no messages yet </span>
      </p>
      <p matLine>
        <span><a mat-button [routerLink]="['/conversation', elem.id]">Open</a></span>
        <span><button mat-button (click)="onDelete(elem.id)">Delete</button></span>
      </p>
    </mat-list-item>
  <mat-divider></mat-divider>
  </mat-list>
  <p class="info-text mat-body-1" *ngIf="list.length <= 0">
    No conversations added yet!
  </p>
</div>

<mat-paginator
  [length]="totalCount"
  [pageSize]="countPerPage"
  [pageSizeOptions]="pageSizeOptions"
  (page)="onChangedPage($event)"
></mat-paginator>
